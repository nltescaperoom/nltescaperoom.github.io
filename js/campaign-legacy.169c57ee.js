"use strict";(self["webpackChunknltescaperoom"]=self["webpackChunknltescaperoom"]||[]).push([[118],{8956:function(t,a,e){e.r(a),e.d(a,{default:function(){return w}});var i=function(){var t=this,a=t.$createElement,i=t._self._c||a;return i("div",[t.campaign?i("div",{staticClass:"campaign"},[i("v-navigation-drawer",{style:{background:t.$vuetify.theme.currentTheme.background},attrs:{permanent:""}},[i("v-list-item",[i("v-list-item-content",[i("div",{staticClass:"character-information"},[i("div",[i("div",{staticClass:"name text-subtitle-2"},[t._v(" "+t._s(t.campaign.characterName)+" ")]),i("div",{staticClass:"name text-caption",domProps:{innerHTML:t._s(t.campaign.balanceFormatHTML())}}),i("div",{staticClass:"health"},t._l(t.campaign.totalHealth,(function(a){return i("div",{key:a,staticClass:"heart"},[t.campaign.currentHealth>=a?i("img",{attrs:{src:e(1739),alt:"heart"}}):i("img",{staticStyle:{opacity:"35%"},attrs:{src:e(5414),alt:"no heart"}})])})),0)])])])],1),i("v-divider"),i("v-list-item",[i("v-list-item-content",[i("div",{staticClass:"text-overline"},[t._v("Inventaris")]),0===t.campaign.inventory.getItems().length?i("div",{staticClass:"text-caption text--secondary"},[t._v(" Uw inventaris is leeg ")]):t._e(),i("div",{staticClass:"inventory"},t._l(t.campaign.inventory.getItems(),(function(a,e){return i("v-menu",{key:e,attrs:{"offset-y":"","open-on-hover":""},scopedSlots:t._u([{key:"activator",fn:function(e){var n=e.on,s=e.attrs;return[i("div",t._g(t._b({staticClass:"item"},"div",s,!1),n),[i("img",{attrs:{src:t.getItem(a.id).icon}}),i("div",{staticClass:"amount text-caption",style:{background:t.$vuetify.theme.currentTheme.background}},[t._v(" "+t._s(a.amount)+" ")])])]}}],null,!0)},[i("v-card",{attrs:{"max-width":"300px"}},[i("v-card-title",[t._v(t._s(t.getItem(a.id).name)+" ("+t._s(a.amount)+")")]),i("v-card-subtitle",[t._v(t._s(t.getItem(a.id).description))]),i("v-card-actions",[i("v-spacer"),i("v-btn",{attrs:{text:"",disabled:!t.getItem(a.id).canUse(t.campaign)},on:{click:function(e){return t.use(a.id)}}},[t._v("Gebruiken")])],1)],1)],1)})),1)])],1),i("v-list-item",{staticClass:"back-to-menu"},[i("v-list-item-content",[i("v-btn",{on:{click:function(a){return t.$router.push("/menu")}}},[t._v(" Terug naar menu ")])],1)],1)],1),i("v-app-bar",{attrs:{app:""}},[i("v-tabs",{attrs:{"align-with-title":""},model:{value:t.tab,callback:function(a){t.tab=a},expression:"tab"}},[i("v-tab",[t._v("Taken")]),i("v-tab",[t._v("Winkel")])],1)],1),i("div",{staticClass:"overview-wrapper"},[i("div",{staticClass:"overview"},[0==t.tab?i("div",{staticClass:"quests"},[i("div",{staticClass:"text-h5 title"},[t._v("Taken")]),i("div",{staticClass:"quest-cards"},t._l(t.quests,(function(a,e){return i("v-card",{key:e,staticClass:"quest",attrs:{disabled:!a.fulfillsPrerequisites(t.campaign)||-1!==t.campaign.completedQuestIds.indexOf(a.id)},on:{click:function(e){return t.startQuest(a.id)}}},[i("v-card-title",[i("div",{staticClass:"title-wrapper"},[i("span",[t._v(t._s(a.title))]),a.fulfillsPrerequisites(t.campaign)?t._e():i("i",{staticClass:"mdi mdi-lock"}),-1!==t.campaign.completedQuestIds.indexOf(a.id)?i("i",{staticClass:"mdi mdi-check success--text"}):t._e()])]),i("v-card-subtitle",[t._v(t._s(a.description))]),i("v-card-text",[a.prerequisites.length?i("span",{staticClass:"text--primary"},[i("strong",[t._v("Benodigdheden")])]):i("span",[t._v("Geen benodigdheden")]),t._l(a.prerequisites,(function(a,e){return i("div",{key:e,staticClass:"prerequisite"},[a.isFulfilled(t.campaign)?i("i",{staticClass:"mdi mdi-check success--text"}):i("i",{staticClass:"mdi mdi-close error--text"}),i("span",{staticClass:"text--primary"},[t._v(t._s(a.title))])])}))],2),i("v-card-text",[i("span",{staticClass:"text--primary"},[i("strong",[t._v("Beloning")])]),i("div",{staticClass:"text--primary"},[t._v(" "+t._s(t.balanceNumberFormatter.format(a.finalReward(t.campaign)))+" "),i("span",{domProps:{innerHTML:t._s(t.currencyHTML)}})])]),i("v-card-text",[i("span",{staticClass:"text--primary"},[i("strong",[t._v("Tijd")])]),i("div",{staticClass:"text--primary"},[t._v(" "+t._s(t.formatDuration(a.finalDuration(t.campaign)))+" ")])]),i("v-card-actions",[i("v-spacer"),i("v-btn",{attrs:{text:""}},[t._v(t._s(t.campaign.completedQuestIds.indexOf(a.id)>-1?"Reeds voltooid":"Starten"))])],1)],1)})),1)]):t._e(),1==t.tab?i("div",{staticClass:"shop"},[i("div",{staticClass:"text-h5 title"},[t._v("Winkel")]),i("div",{staticClass:"item-cards"},t._l(t.shopItems,(function(a,e){return i("div",{key:e,staticClass:"item"},[i("img",{attrs:{src:a.icon}}),i("div",{staticClass:"name"},[i("strong",[t._v(t._s(a.name))])]),i("div",{staticClass:"value text--secondary text-caption"},[t._v(" Kopen: "+t._s(-1!==a.buyValue?t.balanceNumberFormatter.format(a.buyValue):"N/A")+" Verkopen: "+t._s(-1!==a.sellValue?t.balanceNumberFormatter.format(a.sellValue):"N/A")+" ")]),i("div",{staticClass:"description text--secondary"},[t._v(t._s(a.description))]),i("div",{staticClass:"actions"},[i("v-btn",{attrs:{text:"",disabled:-1===a.sellValue||!t.campaign.inventory.hasItem(a.id)},on:{click:function(e){return t.sell(a.id)}}},[t._v("Verkopen")]),i("v-btn",{attrs:{text:"",disabled:-1===a.buyValue||t.campaign.balance<a.buyValue},on:{click:function(e){return t.buy(a.id)}}},[t._v("Kopen")])],1)])})),0)]):t._e()])])],1):t._e(),i("v-dialog",{attrs:{persistent:"","max-width":"500px"},model:{value:t.didNotFindCampaignDialog,callback:function(a){t.didNotFindCampaignDialog=a},expression:"didNotFindCampaignDialog"}},[i("v-card",[i("v-card-title",[t._v("Campagne niet gevonden")]),i("v-card-text",[t._v(" Dit kan te wijten zijn aan een fout of aan een poging om rechtstreeks toegang te krijgen tot dit eindpunt. ")]),i("v-card-actions",[i("v-spacer"),i("v-btn",{attrs:{text:""},on:{click:function(a){return t.$router.push("/menu")}}},[t._v("Terug naar menu")])],1)],1)],1),i("v-dialog",{attrs:{persistent:"","max-width":"500px"},model:{value:t.invalidCampaignDialog,callback:function(a){t.invalidCampaignDialog=a},expression:"invalidCampaignDialog"}},[i("v-card",[i("v-card-title",[t._v("Er is iets mis gegaan")]),i("v-card-text",[t._v(" Er is een fout opgetreden bij het herstellen van de voortgang van uw vorige campagne. Dit kan veroorzaakt zijn door een bug of door gegevensbeschadiging. ")]),i("v-card-actions",[i("v-spacer"),i("v-btn",{attrs:{text:""},on:{click:function(a){return t.$router.push("/menu")}}},[t._v("Terug naar menu")])],1)],1)],1)],1)},n=[],s=e(8541),r=e(8999),c=e(2177),o={name:"Campaign",data:function(){return{campaign:void 0,currencyHTML:c.l.currencyHTML,balanceNumberFormatter:c.l.balanceNumberFormatter,formatDuration:r.Od.formatDuration,didNotFindCampaignDialog:!1,invalidCampaignDialog:!1,quests:r.EN,getItem:s.rV,tab:null}},computed:{shopItems:function(){for(var t=[],a=0;a<s.ev.length;a++)s.ev[a].secret||-1===s.ev[a].buyValue&&-1===s.ev[a].sellValue||t.push(s.ev[a]);return t}},methods:{buy:function(t){-1===(0,s.rV)(t).buyValue||(0,s.rV)(t).buyValue>this.campaign.balance||(this.campaign.inventory.increment(t),this.campaign.balance-=(0,s.rV)(t).buyValue)},sell:function(t){this.campaign.inventory.hasItem(t)&&(this.campaign.inventory.decrement(t),this.campaign.balance+=(0,s.rV)(t).sellValue)},use:function(t){this.campaign.inventory.hasItem(t)&&(this.campaign.inventory.decrement(t),(0,s.rV)(t).use(this.campaign))},startQuest:function(t){var a=(0,r.gu)(t);a.fulfillsPrerequisites(this.campaign)&&(a.onStart&&a.onStart(this.campaign),this.campaign.currentQuestProgress={id:t,startTime:new Date},this.$router.push("/quest"))}},created:function(){var t=this;this.$store.state.campaign?this.$store.state.campaign.validate?(this.campaign=this.$store.state.campaign,this.campaign.validate()?(this.campaign.completedQuestIds.length===r.EN.length&&this.$router.push("/game-completed"),""!==this.campaign.currentQuestProgress.id&&this.$router.push("/quest"),this.$nextTick((function(){document.title="".concat(t.campaign.characterName," | Spel - NLTEscapeRoom")})),window.frikandelbroodje=function(a){t.campaign.inventory.add("0",a)}):this.invalidCampaignDialog=!0):this.invalidCampaignDialog=!0:this.didNotFindCampaignDialog=!0},watch:{campaign:{handler:function(){if(0===this.campaign.currentHealth)return this.$router.push("/game-over"),void this.$store.commit("setCampaign",void 0);this.campaign.completedQuestIds.length===r.EN.length&&this.$router.push("/game-completed"),this.$store.commit("setCampaign",this.campaign)},deep:!0}}},l=o,d=e(3736),u=e(3453),m=e.n(u),v=e(4412),p=e(5684),g=e(9955),h=e(7118),b=e(4257),_=e(1178),f=e(2738),C=e(8141),x=e(3532),y=e(6954),k=e(9762),V=e(4227),D=e(6903),T=(0,d.Z)(l,i,n,!1,null,"57eac948",null),w=T.exports;m()(T,{VAppBar:v.Z,VBtn:p.Z,VCard:g.Z,VCardActions:h.h7,VCardSubtitle:h.Qq,VCardText:h.ZB,VCardTitle:h.EB,VDialog:b.Z,VDivider:_.Z,VListItem:f.Z,VListItemContent:C.km,VMenu:x.Z,VNavigationDrawer:y.Z,VSpacer:k.Z,VTab:V.Z,VTabs:D.Z})}}]);